<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Questions Multiplayer — Entrar / Criar Sala</title>
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="/css/game.css">
</head>
<body>
  <main class="centered-card dark-card">
    <header class="card-header">
      <h1>Questions Multiplayer</h1>
      <p class="subtitle">Crie uma sala, convide amigos e teste seu conhecimento!</p>
    </header>

    <section class="card-body">
      <div class="form-row">
        <label for="roomName">Nome da Sala</label>
        <input id="roomName" placeholder="Ex: SalaDoPedro">
      </div>

      <div class="form-row">
        <label for="roomPassword">Senha da Sala</label>
        <input id="roomPassword" type="password" placeholder="Senha mínima 4 caracteres">
      </div>

      <div class="controls-row">
        <button id="btn-create" class="btn primary full">Criar Sala</button>
        <button id="btn-join" class="btn ghost full">Entrar na Sala</button>
      </div>

      <div class="extra">
        <small>Ou: carregar uma sala demo para testar.</small>
        <button id="btn-demo" class="btn ghost full">Sala Demo</button>
      </div>
    </section>
  </main>

  <script>
    function navigateTo(path, params){
      const url = new URL(path, location.href);
      if(params) Object.keys(params).forEach(k => url.searchParams.set(k, params[k]));
      location.href = url.toString();
    }

    document.getElementById('btn-create').addEventListener('click', ()=>{
      const name = document.getElementById('roomName').value.trim();
      const pass = document.getElementById('roomPassword').value.trim();
      if(!name || pass.length < 4){ alert('Digite um nome de sala e senha de pelo menos 4 caracteres.'); return; }
      navigateTo('/config.html', {room: name, password: pass, host: 'true'});
    });

    document.getElementById('btn-join').addEventListener('click', ()=>{
      const name = document.getElementById('roomName').value.trim();
      const pass = document.getElementById('roomPassword').value.trim();
      if(!name || !pass){ alert('Digite nome e senha da sala.'); return; }
      navigateTo('/game.html', {room: name, password: pass});
    });

    document.getElementById('btn-demo').addEventListener('click', ()=>{
      navigateTo('/game.html', {room:'Demo', password:'Demo'});
    });
  </script>
</body>
</html>
