<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Questions Multiplayer — Entrar / Criar Sala</title>
  <link rel="stylesheet" href="/css/style.css">
</head>
<body>
  <main class="centered-card">
    <header class="card-header">
      <h1>Questions Multiplayer</h1>
      <p class="subtitle">Crie uma sala, convide amigos e responda perguntas em tempo real.</p>
    </header>

    <section class="card-body">
      <div class="form-row">
        <label for="roomName">Nome da sala</label>
        <input id="roomName" placeholder="Ex: SalaDoPedro" />
      </div>

      <div class="form-row">
        <label for="roomPassword">Senha da sala</label>
        <input id="roomPassword" type="password" placeholder="Senha (mín. 4 chars)" />
      </div>

      <div class="controls-row">
        <button id="btn-create" class="btn primary">Criar sala</button>
        <button id="btn-join" class="btn">Entrar na sala</button>
      </div>

      <div class="extra">
        <small>Ou: carregar uma sala de exemplo para testar.</small>
        <button id="btn-demo" class="btn ghost">Sala demo</button>
      </div>
    </section>

    <footer class="card-footer">
      <small>Feito por você • Hospedado no GitHub Pages</small>
    </footer>
  </main>

  <script>
    // Navegação simples e segura: usa sessionStorage para não expor senha na URL
    function navigateTo(path, params){
      // params is plain object; we store in sessionStorage under a key built from path
      if(params){
        const key = `nav:${path}`;
        sessionStorage.setItem(key, JSON.stringify(params));
      }
      location.href = path;
    }

    document.getElementById('btn-create').addEventListener('click', ()=> {
      const name = document.getElementById('roomName').value.trim();
      const pass = document.getElementById('roomPassword').value.trim();
      if(!name || pass.length < 4){ alert('Escreva um nome de sala e senha de pelo menos 4 caracteres.'); return; }
      navigateTo('/config.html', { room: name, password: pass, host: true });
    });

    document.getElementById('btn-join').addEventListener('click', ()=> {
      const name = document.getElementById('roomName').value.trim();
      const pass = document.getElementById('roomPassword').value.trim();
      if(!name || pass.length < 1){ alert('Digite nome da sala e senha.'); return; }
      navigateTo('/game.html', { room: name, password: pass, host: false });
    });

    document.getElementById('btn-demo').addEventListener('click', ()=> {
      navigateTo('/game.html', { room:'DEMO', password:'demo', demo:true, host:false });
    });
  </script>
</body>
</html>
